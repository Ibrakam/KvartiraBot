# Tashkent Estate Bot

Telegram-–±–æ—Ç –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥–±–æ—Ä–∞ –∫–≤–∞—Ä—Ç–∏—Ä –≤ –¢–∞—à–∫–µ–Ω—Ç–µ.

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
project/
‚îú‚îÄ‚îÄ backend/              # Django backend
‚îÇ   ‚îú‚îÄ‚îÄ manage.py
‚îÇ   ‚îú‚îÄ‚îÄ apartments/      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django
‚îÇ   ‚îî‚îÄ‚îÄ estate/          # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –º–æ–¥–µ–ª—è–º–∏ –∏ API
‚îú‚îÄ‚îÄ bot/                 # Telegram –±–æ—Ç –Ω–∞ Aiogram 3
‚îÇ   ‚îú‚îÄ‚îÄ main.py         # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ handlers/       # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ states/         # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/      # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ services/       # –°–µ—Ä–≤–∏—Å—ã (API, –ë–î)
‚îÇ   ‚îî‚îÄ‚îÄ utils/          # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ .env                # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md
```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:
- `BOT_TOKEN` - —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram –±–æ—Ç–∞ (–ø–æ–ª—É—á–∏—Ç–µ —É @BotFather)
- `DJANGO_SECRET_KEY` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á Django (–º–æ–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É)
- `API_BASE_URL` - URL API (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `http://localhost:8000/api`)

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Django

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é backend:

```bash
cd backend
```

–°–æ–∑–¥–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –∏—Ö:

```bash
python manage.py makemigrations
python manage.py migrate
```

–°–æ–∑–¥–∞–π—Ç–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:

```bash
python manage.py createsuperuser
```

### 4. –ó–∞–ø—É—Å–∫ Django —Å–µ—Ä–≤–µ—Ä–∞

```bash
python manage.py runserver
```

–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000/admin`
API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000/api/apartments/`

### 5. –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞

–í –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
python bot/main.py
```

## üì± –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–æ—Ç–∞

### üè† –í—ã–±–æ—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã
–ü–æ—à–∞–≥–æ–≤—ã–π –≤—ã–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
- –¢–∏–ø –∂–∏–ª—å—è (–ù–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∞ / –í—Ç–æ—Ä–∏—á–Ω–æ–µ –∂–∏–ª—å—ë)
- –†–∞–π–æ–Ω
- –¢–∏–ø —Ä–µ–º–æ–Ω—Ç–∞
- –ü–ª–æ—â–∞–¥—å
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç
- –¶–µ–Ω–æ–≤–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ (–ø–æ 10 –∫–≤–∞—Ä—Ç–∏—Ä –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É).

### üîç –ü–æ–∏—Å–∫ –ø–æ ID
–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –∫–≤–∞—Ä—Ç–∏—Ä—ã –ø–æ –µ—ë ID.

### ‚úâÔ∏è –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É
–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∫–≤–∞—Ä—Ç–∏—Ä–∞—Ö, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –≤—ã–±—Ä–∞–Ω–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º.

### ‚õî –û—Ç–ø–∏—Å–∫–∞ –æ—Ç —Ä–∞—Å—Å—ã–ª–∫–∏
–û—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É.

### üë§ –û–±–æ –º–Ω–µ
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ.

### üì¢ –ö–∞–Ω–∞–ª —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –∫–≤–∞—Ä—Ç–∏—Ä
–°—Å—ã–ª–∫–∞ –Ω–∞ Telegram –∫–∞–Ω–∞–ª —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –∫–≤–∞—Ä—Ç–∏—Ä.

### üí¨ –°–≤—è–∑–∞—Ç—å—Å—è —Å–æ –º–Ω–æ–π
–°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞.

## üóÑÔ∏è –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

### Apartment (–ö–≤–∞—Ä—Ç–∏—Ä–∞)
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `type` - —Ç–∏–ø (–ù–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∞ / –í—Ç–æ—Ä–∏—á–Ω–æ–µ –∂–∏–ª—å—ë)
- `district` - —Ä–∞–π–æ–Ω
- `condition` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–° —Ä–µ–º–æ–Ω—Ç–æ–º / –ë–µ–∑ —Ä–µ–º–æ–Ω—Ç–∞ / –°—Ä–µ–¥–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
- `area` - –ø–ª–æ—â–∞–¥—å (–º¬≤)
- `rooms` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç
- `price` - —Ü–µ–Ω–∞ ($)
- `address` - –∞–¥—Ä–µ—Å
- `orientation` - –æ—Ä–∏–µ–Ω—Ç–∏—Ä
- `floor` - —ç—Ç–∞–∂
- `floors_total` - –≤—Å–µ–≥–æ —ç—Ç–∞–∂–µ–π
- `description` - –æ–ø–∏—Å–∞–Ω–∏–µ
- `contact_name` - –∏–º—è –∫–æ–Ω—Ç–∞–∫—Ç–∞
- `contact_phone` - —Ç–µ–ª–µ—Ñ–æ–Ω –∫–æ–Ω—Ç–∞–∫—Ç–∞

### ApartmentImage (–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã)
- `apartment` - —Å–≤—è–∑—å —Å –∫–≤–∞—Ä—Ç–∏—Ä–æ–π
- `image` - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- `order` - –ø–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

## üîå API Endpoints

### GET `/api/apartments/`
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–≤–∞—Ä—Ç–∏—Ä —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `type` - —Ç–∏–ø –∂–∏–ª—å—è
- `district` - —Ä–∞–π–æ–Ω
- `condition` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- `rooms` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç
- `area__gte` - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å
- `area__lte` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å
- `price__gte` - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
- `price__lte` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
- `page` - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–ü—Ä–∏–º–µ—Ä:**
```
GET /api/apartments/?type=–ù–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∞&rooms=2&price__lte=100000
```

### GET `/api/apartments/<id>/`
–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–≤–∞—Ä—Ç–∏—Ä–µ –ø–æ ID.

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.11+**
- **Django 5.x** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Django REST Framework** - REST API
- **Aiogram 3.x** - Telegram Bot Framework
- **SQLite** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **aiohttp** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT




